@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap");:root{--bg-primary:#fff;--bg-secondary:#fff;--bg-card:#fff;--bg-card-hover:#fafafa;--bg-glass:hsla(0,0%,100%,.95);--accent-blue:#3b82f6;--accent-purple:#8b5cf6;--accent-emerald:#10b981;--accent-amber:#f59e0b;--accent-rose:#ef4444;--accent-cyan:#06b6d4;--text-primary:#1f2937;--text-secondary:#4b5563;--text-muted:#9ca3af;--border-subtle:#e5e7eb;--border-accent:#d1d5db;--gradient-brand:#1f2937;--gradient-glass:#fff;--dept-0:#3b82f6;--dept-1:#8b5cf6;--dept-2:#10b981;--dept-3:#f59e0b;--dept-4:#ef4444;--dept-5:#06b6d4;--dept-6:#ec4899;--dept-7:#f97316;--radius-sm:4px;--radius-md:6px;--radius-lg:8px;--radius-xl:12px;--shadow-card:0 1px 3px rgba(0,0,0,.05);--shadow-glow:0 1px 5px rgba(0,0,0,.05)}*{margin:0;padding:0;box-sizing:border-box}body,html{height:100%;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;color:var(--text-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout,body,html{background:var(--bg-primary)}.app-layout{display:flex;flex-direction:column;height:100vh;width:100vw;overflow:hidden}.app-header{display:flex;align-items:center;justify-content:space-between;padding:0 24px;height:48px;flex-shrink:0;background:var(--bg-secondary);border-bottom:1px solid var(--border-subtle);z-index:100}.header-brand{font-size:14px;font-weight:700;color:var(--text-primary);letter-spacing:-.02em}.header-meta{gap:24px}.header-meta,.meta-item{display:flex;align-items:center}.meta-item{gap:8px}.meta-label{font-size:11px;font-weight:500;color:var(--text-muted);text-transform:uppercase;letter-spacing:.05em}.meta-value{font-weight:600;color:var(--text-primary)}.hash-badge,.meta-value{font-size:12px;font-family:SF Mono,Fira Code,monospace}.hash-badge{background:var(--bg-card-hover);padding:2px 6px;border-radius:var(--radius-sm);color:var(--text-secondary);border:1px solid var(--border-subtle)}.main-canvas{flex:1 1;position:relative;overflow:hidden;background:var(--bg-primary)}.error-banner-container{position:absolute;top:12px;left:50%;transform:translateX(-50%);z-index:60;max-width:400px}.card{background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);padding:16px;box-shadow:var(--shadow-card);transition:border-color .2s ease}.card:hover{border-color:var(--border-accent)}.card-title{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.08em;color:var(--text-muted);margin-bottom:12px}.input-field,.select-field{width:100%;padding:8px 12px;background:var(--bg-primary);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);color:var(--text-primary);font-size:13px;font-family:inherit;outline:none;transition:border-color .2s ease}.input-field:focus,.select-field:focus{border-color:var(--accent-blue);box-shadow:0 0 0 2px rgba(59,130,246,.15)}.input-field::placeholder{color:var(--text-muted)}textarea.input-field{min-height:60px;resize:vertical}.form-group{display:flex;flex-direction:column;gap:4px}.form-label{font-size:11px;font-weight:500;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.btn{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:8px 16px;border:none;border-radius:var(--radius-sm);font-size:13px;font-weight:600;font-family:inherit;cursor:pointer;transition:all .2s ease;white-space:nowrap}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background:var(--gradient-brand);color:#fff;border:1px solid var(--gradient-brand)}.btn-primary:hover:not(:disabled){opacity:.9}.btn-secondary{background:var(--bg-card);color:var(--text-secondary);border:1px solid var(--border-subtle)}.btn-secondary:hover:not(:disabled){background:var(--bg-card-hover);color:var(--text-primary)}.btn-danger{background:var(--accent-rose);color:#fff}.btn-sm{padding:5px 10px;font-size:11px}.metric-grid{display:grid;grid-template-columns:1fr 1fr;grid-gap:8px;gap:8px}.metric-item{background:var(--bg-primary);border-radius:var(--radius-md);padding:12px;text-align:center}.metric-value{font-size:22px;font-weight:800;color:var(--text-primary)}.metric-label{font-size:10px;font-weight:500;color:var(--text-muted);text-transform:uppercase;letter-spacing:.06em;margin-top:2px}.density-bar-container{background:var(--bg-primary);border-radius:4px;height:8px;overflow:hidden;margin-top:6px}.density-bar-fill{height:100%;border-radius:4px;background:var(--gradient-brand);transition:width .5s ease}.warning-item{display:flex;align-items:flex-start;gap:8px;padding:8px 10px;background:rgba(245,158,11,.08);border:1px solid rgba(245,158,11,.15);border-radius:var(--radius-sm);font-size:12px;color:var(--accent-amber);line-height:1.4}.warning-icon{flex-shrink:0;margin-top:1px}.status-badge{display:inline-flex;align-items:center;gap:4px;padding:2px 8px;border-radius:12px;font-size:10px;font-weight:600;text-transform:uppercase}.status-active{background:rgba(16,185,129,.15);color:var(--accent-emerald)}.status-inactive{background:rgba(239,68,68,.15);color:var(--accent-rose)}.io-buttons{display:flex;gap:8px}.file-input-hidden{display:none}.error-banner{padding:10px 14px;background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.25);border-radius:var(--radius-sm);color:var(--accent-rose);font-size:12px;animation:fadeIn .3s ease}@keyframes fadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.loading-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:hsla(0,0%,100%,.7);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:50}.spinner{width:32px;height:32px;border:3px solid var(--border-subtle);border-top-color:var(--accent-blue);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(1turn)}}.react-flow__background{background:transparent!important}.react-flow__controls,.react-flow__minimap{background:var(--bg-card)!important;border-radius:var(--radius-md)!important;border:1px solid var(--border-subtle)!important}.react-flow__controls{box-shadow:var(--shadow-card)!important}.react-flow__controls-button{background:var(--bg-card)!important;border-color:var(--border-subtle)!important;fill:var(--text-secondary)!important}.react-flow__controls-button:hover{background:var(--bg-card-hover)!important}.role-node{min-width:180px;background:var(--bg-card);border:1.5px solid var(--border-subtle);border-radius:var(--radius-md);padding:12px 14px}.role-node:hover{border-color:var(--border-accent)}.role-node-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}.role-node-name{font-size:13px;font-weight:600;color:var(--text-primary)}.role-node-id{font-size:10px;color:var(--text-muted);font-family:SF Mono,Fira Code,monospace}.role-node-responsibilities{display:flex;flex-wrap:wrap;gap:3px;margin-top:6px}.resp-tag{font-size:9px;padding:2px 6px;border-radius:10px;background:rgba(59,130,246,.1);color:var(--accent-blue);font-weight:500}.dept-stripe{position:absolute;top:0;left:0;width:4px;height:100%;border-radius:var(--radius-md) 0 0 var(--radius-md)}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;gap:12px;color:var(--text-muted);text-align:center}.empty-state-icon{font-size:48px;opacity:.5}.empty-state-text{font-size:14px;max-width:200px;line-height:1.5}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border-subtle);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:#cbd5e1}.lobby-container{justify-content:center;height:100%;width:100%}.lobby-actions,.lobby-container{display:flex;flex-direction:column;align-items:center}.lobby-actions{gap:16px}.lobby-btn{width:240px;height:48px;font-size:14px}.lobby-note{margin-top:24px;font-size:11px;color:var(--text-muted)}.lobby-modal{background:var(--bg-card);padding:32px;border-radius:var(--radius-lg);border:1px solid var(--border-subtle);box-shadow:var(--shadow-card);max-width:400px;text-align:center}.lobby-modal h2{font-size:18px;font-weight:700;margin-bottom:12px;color:var(--text-primary)}.lobby-modal p{font-size:13px;color:var(--text-secondary);line-height:1.5;margin-bottom:24px}.modal-actions{display:flex;justify-content:center;gap:12px}.world-node{background:var(--bg-card);border:2px solid var(--border-subtle);border-radius:var(--radius-xl);padding:24px;width:300px;text-align:center;box-shadow:var(--shadow-card);position:relative;transition:all .3s ease}.world-node:hover{border-color:var(--accent-blue);box-shadow:var(--shadow-glow)}.world-node-content h3{font-size:20px;font-weight:800;color:var(--text-primary);margin-bottom:20px}.world-metrics{display:flex;justify-content:space-around;margin-bottom:24px}.w-metric{display:flex;flex-direction:column;gap:4px}.w-metric span{font-size:11px;color:var(--text-muted);text-transform:uppercase;font-weight:600}.w-metric strong{font-size:24px;color:var(--accent-blue)}.world-actions{opacity:0;transform:translateY(10px);transition:all .2s ease}.world-node:hover .world-actions{opacity:1;transform:translateY(0)}.department-node{background:var(--bg-card);border:2px solid var(--border-subtle);border-radius:var(--radius-lg);padding:16px;background-color:var(--bg-primary);transition:all .2s ease}.department-node:hover{transform:translateY(-2px)}.dept-node-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;border-bottom:1px solid var(--border-subtle);padding-bottom:8px}.dept-node-header h3{font-size:14px;font-weight:700;color:var(--text-primary);margin:0}.dept-stage{font-size:10px;background:var(--bg-card-hover);padding:2px 6px;border-radius:12px;color:var(--text-muted);text-transform:uppercase;font-weight:600}.dept-metrics{display:flex;justify-content:space-between;margin-bottom:16px}.d-metric{display:flex;flex-direction:column}.d-metric span{font-size:10px;color:var(--text-muted);text-transform:uppercase}.d-metric strong{font-size:16px;color:var(--text-primary);font-weight:700}.dept-actions{display:flex;justify-content:center;margin-top:8px}.diagnostics-floating{position:absolute;bottom:24px;right:24px;z-index:10;width:320px;max-height:calc(100vh - 120px);overflow-y:auto;box-shadow:var(--shadow-card);border-radius:var(--radius-lg);transition:opacity .3s ease,transform .3s ease}.session-card{transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease}.session-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.06);border-color:var(--border-accent)}.btn{transition:all .15s ease}.btn:active:not(:disabled){transform:scale(.97)}.card{transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease}.main-canvas{animation:canvasFadeIn .25s ease}@keyframes canvasFadeIn{0%{opacity:0}to{opacity:1}}.btn:focus-visible{outline:2px solid var(--accent-blue);outline-offset:2px}.input-field:focus-visible,.select-field:focus-visible{outline:2px solid var(--accent-blue);outline-offset:1px}.dept-group-node{background:var(--card-bg);border:2px solid #475569;border-radius:var(--radius-lg);padding:12px 20px;min-width:260px;text-align:center;position:relative;box-shadow:var(--shadow-card)}.dept-group-stripe{position:absolute;top:0;left:0;right:0;height:4px;border-radius:var(--radius-lg) var(--radius-lg) 0 0}.dept-group-label{font-weight:700;font-size:14px;color:var(--text-primary);margin-bottom:2px}.dept-group-meta{font-size:11px;color:var(--text-secondary);letter-spacing:.02em}.graph-toolbar{position:absolute;top:16px;left:16px;z-index:10;display:flex;align-items:center;gap:8px;background:var(--bg-glass);border:1px solid var(--border-subtle);border-radius:var(--radius-md);padding:6px 12px;box-shadow:var(--shadow-card)}.toolbar-divider{width:1px;height:16px;background:var(--border-subtle)}.toolbar-label{font-size:12px;font-weight:500;color:var(--text-secondary);letter-spacing:.01em}.toolbar-meta{margin-left:6px;font-weight:400;color:var(--text-muted);font-size:11px}