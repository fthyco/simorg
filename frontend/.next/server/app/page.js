(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5625:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(5480),r(2029),r(5866);var n=r(3191),s=r(8716),i=r(7922),a=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5480)),"D:\\Project\\real_systems_underpressure-main\\frontend\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"D:\\Project\\real_systems_underpressure-main\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\Project\\real_systems_underpressure-main\\frontend\\src\\app\\page.tsx"],p="/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4654:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},2720:()=>{},5580:(e,t,r)=>{Promise.resolve().then(r.bind(r,4497))},4497:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(326),s=r(7577),i=r(8069),a=r(434);function o(){let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0),[l,d]=(0,s.useState)(!1),[c,p]=(0,s.useState)(!1),[u,x]=(0,s.useState)("seed"),[h,m]=(0,s.useState)("tech_saas"),[g,y]=(0,s.useState)(50),[f,j]=(0,s.useState)(!1),[v,b]=(0,s.useState)({capital:5e4,talent:5e4,time:5e4,political_cost:5e4,differentiation_threshold:3,compression_limit:5}),[S,_]=(0,s.useState)(null),[C,P]=(0,s.useState)(""),w=()=>[],N=e=>{let t=w();t.includes(e)||(t.push(e),localStorage.setItem("myOrgProjectIds",JSON.stringify(t)))},k=e=>{let t=w().filter(t=>t!==e);localStorage.setItem("myOrgProjectIds",JSON.stringify(t))},z=async()=>{o(!0);try{let e=w();if(0===e.length){t([]),o(!1);return}let r=await (0,i.hW)(e);t(r)}catch(e){console.error(e)}finally{o(!1)}},O=async(e,t)=>{if(t.preventDefault(),t.stopPropagation(),confirm("Delete this session?"))try{await (0,i.th)(e),k(e),await z()}catch(e){console.error(e)}},D=async(e,t)=>{t.preventDefault(),t.stopPropagation();let r=crypto.randomUUID();try{await (0,i.mr)(e,r),N(r),await z()}catch(e){console.error(e)}},T=(e,t)=>{t.preventDefault(),t.stopPropagation(),_(e),P(e)},I=async e=>{if(e.preventDefault(),e.stopPropagation(),!S||!C.trim()||C===S){_(null);return}try{await (0,i.Pj)(S,C.trim());let e=w(),t=e.indexOf(S);-1!==t&&(e[t]=C.trim(),localStorage.setItem("myOrgProjectIds",JSON.stringify(e))),_(null),await z()}catch(e){console.error(e),alert("Failed to rename session.")}},B=async()=>{p(!0);let e=crypto.randomUUID();try{await (0,i.tq)(e,{stage:u,industry:h,success_level:g,...f?{overrides:v}:{}}),N(e),window.location.href=`/session/${e}`}catch(e){console.error(e),alert("Failed to generate organization.")}finally{p(!1),d(!1)}};return(0,n.jsxs)("div",{className:"app-layout",style:{background:"#ffffff",overflowY:"auto"},children:[(0,n.jsxs)("header",{className:"app-header",children:[n.jsx(a.default,{href:"/",style:{textDecoration:"none"},children:(0,n.jsxs)("div",{className:"header-brand",style:{cursor:"pointer"},children:["⬡ OrgKernel ",n.jsx("span",{style:{color:"var(--text-muted)",marginLeft:"8px",fontSize:"11px",fontWeight:"normal"},children:"Control Center"})]})}),n.jsx("div",{className:"header-meta",children:n.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>d(!0),children:"+ Create New Org"})})]}),n.jsx("main",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto",width:"100%"},children:r&&0===e.length?n.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-muted)"},children:"Loading Sessions..."}):0===e.length?(0,n.jsxs)("div",{className:"empty-state",style:{minHeight:"60vh"},children:[n.jsx("div",{className:"empty-state-icon",children:"⬡"}),n.jsx("div",{className:"empty-state-text",children:"No sessions yet. Create your first organization."}),n.jsx("button",{className:"btn btn-primary",onClick:()=>d(!0),style:{marginTop:"16px"},children:"+ Create New Org"})]}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:e.map(e=>n.jsx(a.default,{href:`/session/${e.project_id}`,style:{textDecoration:"none",color:"inherit",display:"block"},children:(0,n.jsxs)("div",{className:"card session-card",style:{cursor:"pointer",position:"relative"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",borderBottom:"1px solid var(--border-subtle)",paddingBottom:"12px"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[S===e.project_id?n.jsx("form",{onSubmit:I,onClick:e=>e.stopPropagation(),style:{display:"flex",gap:"4px"},children:n.jsx("input",{autoFocus:!0,className:"input-field",value:C,onChange:e=>P(e.target.value),onBlur:()=>_(null),style:{fontSize:"13px",padding:"4px 8px",height:"28px"}})}):n.jsx("div",{onDoubleClick:t=>T(e.project_id,t),title:"Double-click to rename",style:{fontWeight:700,fontSize:"14px",marginBottom:"4px",cursor:"text"},children:e.project_id}),n.jsx("div",{style:{fontSize:"11px",color:"var(--text-muted)",fontFamily:"monospace"},children:e.state_hash?.slice(0,12)||"—"})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",fontWeight:600,color:"var(--text-secondary)"},children:e.stage||"—"}),n.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)"},children:e.industry||"—"})]})]}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[(0,n.jsxs)("div",{children:[n.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",textTransform:"uppercase"},children:"Events"}),n.jsx("div",{style:{fontSize:"18px",fontWeight:700},children:e.event_count})]}),(0,n.jsxs)("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",textTransform:"uppercase"},children:"Debt"}),n.jsx("div",{style:{fontSize:"18px",fontWeight:700,color:e.structural_debt>1e3?"var(--accent-rose)":"inherit"},children:e.structural_debt})]}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[n.jsx("div",{style:{fontSize:"10px",color:"var(--text-muted)",textTransform:"uppercase"},children:"Density"}),n.jsx("div",{style:{fontSize:"18px",fontWeight:700},children:e.structural_density})]})]}),e.structural_debt>1e3&&n.jsx("div",{style:{fontSize:"10px",color:"var(--accent-rose)",marginBottom:"12px",background:"rgba(239, 68, 68, 0.06)",padding:"4px 8px",borderRadius:"4px",display:"inline-block"},children:"⚠ High Structural Debt"}),(0,n.jsxs)("div",{style:{display:"flex",gap:"8px",borderTop:"1px solid var(--border-subtle)",paddingTop:"12px"},children:[n.jsx("button",{className:"btn btn-secondary btn-sm",style:{flex:1,fontSize:"10px"},children:"Open"}),n.jsx("button",{className:"btn btn-secondary btn-sm",style:{fontSize:"10px"},onClick:t=>T(e.project_id,t),children:"Rename"}),n.jsx("button",{className:"btn btn-secondary btn-sm",style:{fontSize:"10px"},onClick:t=>D(e.project_id,t),children:"Clone"}),n.jsx("button",{className:"btn btn-secondary btn-sm",style:{fontSize:"10px",color:"var(--accent-rose)"},onClick:t=>O(e.project_id,t),children:"Delete"})]})]})},e.project_id))})}),l&&n.jsx("div",{className:"loading-overlay",style:{alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)("div",{className:"lobby-modal",style:{width:"480px",maxHeight:"85vh",overflowY:"auto",position:"relative",zIndex:100},children:[n.jsx("h2",{children:"Organizational Modeling Engine"}),n.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:"Configure the topological seeds and constraint profile for a new simulation session."}),(0,n.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:600,textAlign:"left"},children:"Scale Stage"}),(0,n.jsxs)("select",{value:u,onChange:e=>x(e.target.value),style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid var(--border-color)",backgroundColor:"#f8fafc"},children:[n.jsx("option",{value:"seed",children:"Seed (Lean, singular focus)"}),n.jsx("option",{value:"growth",children:"Growth (Emerging specialization)"}),n.jsx("option",{value:"structured",children:"Structured (Formal departments)"}),n.jsx("option",{value:"mature",children:"Mature (High density, high debt risk)"})]})]}),(0,n.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[n.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:600,textAlign:"left"},children:"Industry Topology"}),(0,n.jsxs)("select",{value:h,onChange:e=>m(e.target.value),style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid var(--border-color)",backgroundColor:"#f8fafc"},children:[n.jsx("option",{value:"tech_saas",children:"Tech SaaS (Hub & Spoke / Dense Product)"}),n.jsx("option",{value:"manufacturing",children:"Manufacturing (Linear Supply Chain)"}),n.jsx("option",{value:"marketplace",children:"Marketplace (Multi-Cluster Supply/Demand)"})]})]}),(0,n.jsxs)("div",{className:"form-group",style:{marginBottom:"24px"},children:[(0,n.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontWeight:600},children:[n.jsx("span",{children:"Success Level (Constraint Proxy)"}),n.jsx("span",{style:{color:"var(--brand-primary)"},children:g})]}),n.jsx("input",{type:"range",min:"1",max:"100",value:g,onChange:e=>y(parseInt(e.target.value,10)),style:{width:"100%",accentColor:"#1f2937"}})]}),(0,n.jsxs)("div",{style:{marginBottom:"24px",paddingTop:"16px",borderTop:"1px solid var(--border-subtle)"},children:[(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontWeight:600},children:[n.jsx("input",{type:"checkbox",checked:f,onChange:e=>j(e.target.checked),style:{marginRight:"8px"}}),"Advanced Constraint Overrides"]}),f&&n.jsx("div",{style:{marginTop:"16px",padding:"16px",backgroundColor:"#f8fafc",borderRadius:"6px",fontSize:"13px"},children:Object.entries(v).map(([e,t])=>(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",alignItems:"center"},children:[n.jsx("label",{children:e}),n.jsx("input",{type:"number",value:t,onChange:t=>b(r=>({...r,[e]:parseInt(t.target.value)||0})),style:{width:"80px",padding:"4px",borderRadius:"4px",border:"1px solid var(--border-subtle)",textAlign:"right"}})]},e))})]}),(0,n.jsxs)("div",{className:"modal-actions",style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"16px"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>d(!1),disabled:c,children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:B,disabled:c,children:c?"Initializing Sequence...":"Generate Organization"})]})]})})]})}},8069:(e,t,r)=>{"use strict";r.d(t,{IV:()=>c,Pj:()=>o,hW:()=>i,mr:()=>l,th:()=>a,tq:()=>p,y0:()=>d});let n="http://localhost:8000".replace(/\/+$/,"");async function s(e,t){let r=await fetch(`${n}${e}`,{headers:{"Content-Type":"application/json"},...t});if(!r.ok)throw Error((await r.json().catch(()=>({}))).detail||`API error: ${r.status}`);return r.json()}async function i(e){if(e&&0===e.length)return[];let t="/projects";return e&&e.length>0&&(t+=`?project_ids=${encodeURIComponent(e.join(","))}`),s(t)}async function a(e){return s(`/projects/${e}`,{method:"DELETE"})}async function o(e,t){return s(`/projects/${e}/rename`,{method:"PATCH",body:JSON.stringify({new_name:t})})}async function l(e,t){return s(`/projects/${e}/duplicate`,{method:"POST",body:JSON.stringify({new_project_id:t})})}async function d(e){return s(`/projects/${e}/state`)}async function c(e,t){return s(`/projects/${e}/append-event`,{method:"POST",body:JSON.stringify(t)})}async function p(e,t){return s(`/projects/${e}/generate-org`,{method:"POST",body:JSON.stringify(t)})}},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>s});var n=r(9510);r(5023);let s={title:"OrgKernel — Organizational Structure Visualizer",description:"Deterministic organizational kernel — event-sourced structure visualization with graph analysis"};function i({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{children:e})})}},5480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(8570).createProxy)(String.raw`D:\Project\real_systems_underpressure-main\frontend\src\app\page.tsx#default`)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[819,434],()=>r(5625));module.exports=n})();